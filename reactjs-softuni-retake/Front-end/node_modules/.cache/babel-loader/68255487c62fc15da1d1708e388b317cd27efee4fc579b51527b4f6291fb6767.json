{"ast":null,"code":"const request = async (method, token, url, data) => {\n  const options = {};\n  if (method !== \"GET\") {\n    options.method = method;\n    if (data) {\n      options.headers = {\n        \"content-type\": \"application/json\"\n      };\n      options.body = JSON.stringify(data);\n    }\n  }\n  if (token) {\n    options.headers = {\n      ...options.headers,\n      \"X-Authorization\": token\n    };\n  }\n  const response = await fetch(url, options);\n  if (response.status === 204) {\n    return {};\n  }\n  const result = await response.json();\n  if (!response.ok) {\n    throw result;\n  }\n  return result;\n};\nexport const requestFactory = token => {\n  return {\n    get: request.bind(null, \"GET\", token),\n    post: request.bind(null, \"POST\", token),\n    put: request.bind(null, \"PUT\", token),\n    patch: request.bind(null, \"PATCH\", token),\n    delete: request.bind(null, \"DELETE\", token)\n  };\n};\nexport default request;","map":{"version":3,"names":["request","method","token","url","data","options","headers","body","JSON","stringify","response","fetch","status","result","json","ok","requestFactory","get","bind","post","put","patch","delete"],"sources":["C:/Users/User/Desktop/GitHub/Reactjs-App/reactjs-softuni-retake/Front-end/src/components/Service/requester.js"],"sourcesContent":["const request = async (method, token, url, data) => {\r\n  const options = {};\r\n\r\n  if (method !== \"GET\") {\r\n    options.method = method;\r\n\r\n    if (data) {\r\n      options.headers = {\r\n        \"content-type\": \"application/json\",\r\n      };\r\n\r\n      options.body = JSON.stringify(data);\r\n    }\r\n  }\r\n\r\n  if (token) {\r\n    options.headers = {\r\n      ...options.headers,\r\n      \"X-Authorization\": token,\r\n    };\r\n  }\r\n\r\n  const response = await fetch(url, options);\r\n\r\n  if (response.status === 204) {\r\n    return {};\r\n  }\r\n\r\n  const result = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw result;\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport const requestFactory = (token) => {\r\n  return {\r\n    get: request.bind(null, \"GET\", token),\r\n    post: request.bind(null, \"POST\", token),\r\n    put: request.bind(null, \"PUT\", token),\r\n    patch: request.bind(null, \"PATCH\", token),\r\n    delete: request.bind(null, \"DELETE\", token),\r\n  };\r\n};\r\n\r\nexport default request;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,MAAAA,CAAOC,MAAM,EAAEC,KAAK,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAClD,MAAMC,OAAO,GAAG,CAAC,CAAC;EAElB,IAAIJ,MAAM,KAAK,KAAK,EAAE;IACpBI,OAAO,CAACJ,MAAM,GAAGA,MAAM;IAEvB,IAAIG,IAAI,EAAE;MACRC,OAAO,CAACC,OAAO,GAAG;QAChB,cAAc,EAAE;MAClB,CAAC;MAEDD,OAAO,CAACE,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;IACrC;EACF;EAEA,IAAIF,KAAK,EAAE;IACTG,OAAO,CAACC,OAAO,GAAG;MAChB,GAAGD,OAAO,CAACC,OAAO;MAClB,iBAAiB,EAAEJ;IACrB,CAAC;EACH;EAEA,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACR,GAAG,EAAEE,OAAO,CAAC;EAE1C,IAAIK,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IAC3B,OAAO,CAAC,CAAC;EACX;EAEA,MAAMC,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;EAEpC,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;IAChB,MAAMF,MAAM;EACd;EAEA,OAAOA,MAAM;AACf,CAAC;AAED,OAAO,MAAMG,cAAc,GAAId,KAAK,IAAK;EACvC,OAAO;IACLe,GAAG,EAAEjB,OAAO,CAACkB,IAAI,CAAC,IAAI,EAAE,KAAK,EAAEhB,KAAK,CAAC;IACrCiB,IAAI,EAAEnB,OAAO,CAACkB,IAAI,CAAC,IAAI,EAAE,MAAM,EAAEhB,KAAK,CAAC;IACvCkB,GAAG,EAAEpB,OAAO,CAACkB,IAAI,CAAC,IAAI,EAAE,KAAK,EAAEhB,KAAK,CAAC;IACrCmB,KAAK,EAAErB,OAAO,CAACkB,IAAI,CAAC,IAAI,EAAE,OAAO,EAAEhB,KAAK,CAAC;IACzCoB,MAAM,EAAEtB,OAAO,CAACkB,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAEhB,KAAK;EAC5C,CAAC;AACH,CAAC;AAED,eAAeF,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}